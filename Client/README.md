# Client
Hikariと通信し、実際に問題を解くクライアント

## 挙動
クライアントの挙動について述べる。以下のようになる。

1. Hikariに接続
2. `クライアントの名前` + `[LF]`を送信
3. `G`(GetReady) + `[LF]`を送信
4. Hikariから反応があるまで待つ
5. 試合開始と同時に、Hikariから独自フォーマットの問題が送られてくる
6. 必死に計算して解を見つける
7. `S` + `[LF]`を送信して、回答を送信することを伝える
8. 独自フォーマットの回答を送信
9. `E` + `[LF]`で回答が完了したことを伝える
10. `O`を受信すれば6.に戻る、`X`であれば3.に戻る
11. なお、もういろいろ無理そうだったら、接続を切る

接続については、処理時間の観点から、試合開始までに3.までの処理が完了していることが望ましい。
ただし、試合が開始された後でも、接続可能である。

また、「解の送信」は、計算途中の、例えば「10秒ごとに今までで一番良い解を送る」でも良い。
Hikariでは、他のクライアントが送ってきた解と比較して、システム全体で一番良い解であれば、運営サーバに送信する。


## 独自フォーマット

### 問題
以下のフォーマットで、クライアントに送信する。
ただし、実際に送信されるのは、`[LF]`までであり、それより先は説明のためである。

    0 0 31 31[LF]          # ブロックを配置できる領域の外接矩形の左上(x1,y1)と右下(x2,y2)を[SP]で区切って並べて、[LF]を付けた行
    000100011100111...[LF] # 敷地情報(1024文字)を横に並べ、[LF]を...
    20[LF]                 # 石の数をASCII文字で示して、[LF]
    000011111....[LF]      # 石情報(64文字)その1で[LF]
        :
        :
    011100000....[LF]      # 石情報そのN(3行目の石の数)で[LF]

最終行に空行を挿入するなどの操作は、*行わない*。

### 回答
以下のフォーマットで、クライアントから受信する。
ただし、実際に送信されるのは、やっぱり`[LF]`までである。

    (置くところ): H 270 x y[LF] → 公式フォーマットを少しだけ変えた。石操作は「表裏→回転→配置」だから、この方が自然なんだよなぁ…。
    (パスする): [LF]
       :
       :

「置くところ」、または「パスする」が、石の数だけ繰り替えされる。
仮に、回答行数が石の数に満たない場合や、多すぎる場合、適切に埋めたり切ったりして、なんとか公式フォーマットに合うように努力する。

