# BreadthSearch
BreadthSearch は「幅優先探索」の意味ですが、幅優先探索では**ありません。**
正確には「現在の状態における探索枝を全て調べ、最も良い枝から探索を行う**深さ優先探索**」です。
なぜこんな名前を付けたか？それは徹夜しているときの僕に聞いてください。

## 評価関数
「ある糞（ズク）を配置したとき、どれほど解が改善されるか？」を表すために、評価関数を定義した。
この評価関数の評価値に応じて枝をソートし、最も良い枝から探索を行う。

評価関数によって、以下の優先順位によって良い値が割り振られる。

① 死領域が小さい

② 全ての部分領域のうち、最小の部分領域のサイズが大きい

③ 辺隣接数が多い

### 部分領域
糞（ズク）および障害物によって領域が分断された場合、それぞれの領域を部分領域という。

### 死領域
ある探索状態における、ある部分領域のサイズが、残りの糞（ズク）を用いても埋められないことが確定している場合、その領域を死領域と呼ぶ。死領域は、その状態から到達できる最良スコアを定義する。

例）死領域=3の場合、その後どれほど領域が埋められたとしても、スコアが3未満になることはない。

### 辺隣接数
その糞（ズク）を配置したとき、隣接する辺の数を辺隣接数と呼ぶ。

## 枝刈り
ある探索状態において、それ以降探索をしても最良解が得られないことが分かっている場合、その枝の探索を行わない。

# 総評
基本的には、優先順位をつけた全探索となります。
状態数が小さい問題に対しては最適解を得られる可能性がありますが、競技に用いるような状態数では全探索は現実的に不可能です。
それどころか、全状態の端の方しか探索できず、欲張り法と対して変わらない結果になることがほとんどでした。
そのため、DeepSearch, ReplaceSearch, FocusSearch, OmikujiSearch などの開発を行いました。

また、この改善手法すべてに言えることですが、探索は主に「ある糞（ズク）をどれほどよく配置できるか？」という観点で行っており、「どの糞（ズク）を配置すればよいか？」という点では一切の探索を行っていません。
よって、序盤の糞（ズク）はほぼ確実に使用され、終盤の糞（ズク）ほど使用される確率が下がります。
序盤の糞（ズク）が悪い影響を与える、同じ空き領域数でも使用する糞（ズク）が多くなる、などの問題は回避できませんでした。
