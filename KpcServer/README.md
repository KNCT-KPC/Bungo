# Hikari
運営サーバとの通信を仲介する「メインマシンのプログラム」

## 仕様

* 運営サーバとの送受信を簡単にする
* TCP:25252 で待ち受け
* クライアントが繋いできたら、公式フォーマットを独自フォーマットに変換して問題を送信
* クライアントから独自フォーマットの回答が来たら、公式フォーマットに変換して、運営サーバに回答する
* クライアントは何台居ても良い
  * けど、画面に表示するのは、スコアが高い上位3台
* 運営サーバに回答する際は、今までで一番良い回答でなれば送信しない

## 使い方

1. 起動
2. クライアントを接続させる(別に後でもいいけど)
3. 回答URLや、問題ファイルのURLを指定する(Drag&Dropでローカルファイルの読み込みにも対応している)
4. 「開始」する(URLやファイルの読み込みに失敗した場合、起動しない)
5. あとはクライアントが勝手にやってくれる
6. 試合終了したかったら「終了」

## 既知の問題点

* Boardの反映
  * 複数クライアントが接続したときの描画がおかしい
* 運営サーバとの通信
  * GETが異常に遅い
  
## 実装アイデア

* 試合開始前に運営サーバとConnectionの確立だけ行っておく
  * 組み込みのクラスで気を効かせてキャッシュまで効いたりしないかな
* 1つの頭おかしいクライアントのせいで例外が出て、他のクライアントが巻き添えになる
  * try - niceCatch! するか
* 「1秒に1回以上送信」の警告
  * 強制的に止めさせるのは面倒そうだし、悪意なかったらいいでしょ
